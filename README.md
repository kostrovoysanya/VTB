# Тестовое задание
## SQL
Все запросы мы запустим у себя и они должны будут выполнится.
В каждом запросе написать в комментариях, для чего используется 

1. Создать базу данных с несколькими таблицами (Операторы, Должники, Телефоны и т.д.) используя разные типы данных
2. Наполнить таблицу (50 строк, 5 уникальных дат)
3. Написать запрос в котором используются агрегирующие функции.
4. Написать запрос в котором используют джоины. (описать, как они работают в вашем запросе)
5. Написать запрос со вложенными запросами.
6. Создание временной таблицы, использование case
7. Написать запрос с использованием CTE
8. Написать запрос используя оконные функции.
9. Какие знания еще можете продемонстрировать?

Пример:
SELECT * FROM table;  

* - все столбцы  
FROM - откуда  
table - название таблицы (откуда)

_______________________________________
## PYTHON
Скрипт мы запустим у себя и посмотрим как он выполнится.
В комментариях напишите, что должно произойти и для чего применяется.

Цель задания продемонстрировать навыки работы с Python
С какими библиотека работали?
Продемонстрируйте ваши знания по вашему усмотрению, что считаете самыми основными/важными/сложными.

Пример:
Подключаемся к библиотека pandas
создаем DataFrame (из данных введённых вручную, подключится к файлу csv, xlsx и т.д.)
делаем какие-то операции с этим df (обрабатываем данные)
сохраняем результат куда-то и т.д.

# Реализация
## SQL
1. Создание базы данных с несколькими таблицами реализовано в файле creating_db.sql
2. Наполнение базы данных реализовано в файле data_filling.sql
3. Запрос с агрегирующей функцией реализован в файле aggregation_functions.sql
4. Запрос с использорванием join реализован в файле request_with_joins.sql
5. Запрос со вложенными запросами реализован в файле nested_queries.sql
6. Создание временной таблицы и использование case реализовано в файле temporary_table_case.sql
7. Запрос с использованием CTE реализован в файле cte_request.sql
8. Запрос с использованием оконный функций реализован в файле window_function.sql
9. Я реализовал транзакцию (файл transaction.sql)
## Python
Программа принимает на вход данные, введенные вручную, затем сохраняет эти данные в отдельный файл (initial_data.csv) благодаря библиотеке pandas.  
Потом идет обработка самих данных, а именно группировка данных, анализ и построение нового столбца (используется NumPy). Например, если опыт человека от 0 - 2 лет, ему добавляется ячейка "junior", если от 3 - 6 лет, то уже "middle", 7 и более лет - "senior". Так же создаются возрастные группы.  
Затем идет визуализация некоторых данных с помощью библиотеки matplotlib, а именно "построение гистограммы возраста сотрудников", "построение столбчатой диаграммы средней зарплаты по департаментам и полу", "построение столбчатой диаграммы средней зарплаты по уровню образования и стажу работы", "построение столбчатой диаграммы средней зарплаты по возрастным группам",
"построение круговой диаграммы распределения сотрудников по департаментам". Графики / диаграммы сохраняются в формате png "age_distribution.png", "salary_by_department_and_gender.png", "salary_by_education_and_experience.png", "salary_by_age_group.png", "employee_distribution.png" соответственно.  
Группировки данных записываются в отдельные csv файлы.
1) processed_data.csv - обработанные данные.
2) average_salary_by_department_and_gender.csv - средняя зарплата по департаементу и полу.
3) average_salary_by_education_and_experience.csv - средняя зарплата по уровню образования и стажа.
4) average_salary_by_age_group.csv - средняя зарплата по возрастным группам.
   
Реализация кода представлена в файле test_task.py  

